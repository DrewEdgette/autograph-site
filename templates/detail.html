{# templates/detail.html #}
{% extends 'base.html' %}
{% load static %}

{% block title %}Legend Autographs{% endblock %}

{% block content %}
<main class="detail">
  <div class="detail__container">

    <div class="detail__meta">
      <h1 class="detail__title">{{ autograph.name }}</h1>

      <div class="detail__grid">
        {# Left: image #}
        <div class="detail__imageWrap">
          {% if autograph.image %}
            {# Click-to-zoom (no JS) #}
            <label class="detail__imageLink" for="img-modal" title="Click to enlarge">
              <img class="detail__image" src="{{ autograph.image.url }}" alt="{{ autograph.name }}">
            </label>

            <input class="detail__modalToggle" type="checkbox" id="img-modal" aria-hidden="true">

            {# Clicking backdrop closes (label toggles checkbox off) #}
            <label class="detail__modal" for="img-modal" aria-label="Close image">
              {# Stop close-on-click when clicking the image itself #}
              <span class="detail__modalInner" role="dialog" aria-modal="true" aria-label="{{ autograph.name }}"
                    onclick="event.stopPropagation();">
                <img class="detail__modalImg" src="{{ autograph.image.url }}" alt="{{ autograph.name }}">
                <span class="detail__modalClose" aria-hidden="true">Ã—</span>
              </span>
            </label>
          {% else %}
            <img class="detail__image" src="{% static 'placeholder.png' %}" alt="Autograph">
          {% endif %}
        </div>

        {# Right: stacked sections #}
        <aside class="detail__side">
          {# Price #}
          <section class="detail__card">
            <h2 class="detail__cardTitle">Price</h2>
            {% if autograph.price %}
              <div class="detail__price">${{ autograph.price }} USD</div>
            {% else %}
              <div class="detail__muted">Pricing available on request.</div>
            {% endif %}
          </section>

          {# Tags #}
          <section class="detail__card">
            <h2 class="detail__cardTitle">Tags</h2>

            {% if autograph.tags.all %}
              <div class="detail__tags">
                {% for tag in autograph.tags.all %}
                  <span class="tag">{{ tag.name }}</span>
                {% endfor %}
              </div>
            {% elif autograph.tags %}
              <div class="detail__tags">
                <span class="tag">{{ autograph.tags }}</span>
              </div>
            {% else %}
              <div class="detail__muted">No tags yet.</div>
            {% endif %}
          </section>

          <section class="detail__card">
            <h2 class="detail__cardTitle">Shipping</h2>
            <p class="detail__description">
              {{ shipping_cost_display }} - Worldwide and Tracked.
            </p>
          </section>

          {% if autograph.description %}
          <section class="detail__card">
            <h2 class="detail__cardTitle">Notes</h2>
              <p class="detail__description">{{ autograph.description }}</p>
          </section>
          {% endif %}

          <section class="detail__card">
            <h2 class="detail__cardTitle">Contact</h2>
            <p class="detail__description">

              <a class="contact-action-small" href="mailto:legendautographs2@gmail.com" aria-label="Email">
                    <span class="contact-action__icon-small" aria-hidden="true">
                        <!-- envelope icon -->
                        <svg viewBox="0 0 24 24" fill="none">
                            <path
                                d="M4 7.5A2.5 2.5 0 0 1 6.5 5h11A2.5 2.5 0 0 1 20 7.5v9A2.5 2.5 0 0 1 17.5 19h-11A2.5 2.5 0 0 1 4 16.5v-9Z"
                                stroke="currentColor" stroke-width="1.8" stroke-linejoin="round" />
                            <path d="m6.5 7.5 5.1 4.1a1.5 1.5 0 0 0 1.9 0l5-4.1" stroke="currentColor"
                                stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </span>
                    <span class="contact-action__text-small">
                        <span class="contact-action__label-small">Email</span>
                        <span class="contact-action__value-small">legendautographs2@gmail.com</span>
                    </span>
                  </a>

                <a class="contact-action-small" href="https://www.facebook.com/profile.php?id=61586724700375" target="_blank"
                    rel="noopener" aria-label="Facebook">
                    <span class="contact-action__icon-small contact-action__icon--fb" aria-hidden="true">
                        <!-- facebook icon -->
                        <svg viewBox="0 0 24 24" fill="none">
                            <path
                                d="M14 8.5V7.3c0-.7.6-1.3 1.3-1.3H17V3h-2.3C12.7 3 11 4.6 11 6.7v1.8H9v3h2V21h3v-9.5h2.5l.5-3H14Z"
                                fill="currentColor" />
                        </svg>
                    </span>
                    <span class="contact-action__text-small">
                        <span class="contact-action__label-small">Facebook</span>
                        <span class="contact-action__value-small">Legend Autographs</span>
                    </span>
                </a>
              
            </p>
          </section>


          {# RACC #}
          <section class="detail__card">
            <h2 class="detail__cardTitle">Seller Verification</h2>
            <div class="detail__RACC">
              <a href="https://www.racctrusted.com/alexandre/" target="_blank" rel="noopener">RACC</a>
              <span>Trusted Seller</span>
            </div>
            <p>All items are obtained in-person by myself unless stated otherwise.</p>
          </section>


        </aside>
      </div>
    </div>
  </div>
</main>
{% endblock %}
